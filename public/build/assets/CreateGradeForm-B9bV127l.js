import{r as j,m as b,j as e,a as y}from"./app-Bt-737Yp.js";import{B as E,t as s}from"./index-DJ69vFpb.js";import{f as v}from"./dialog-MUZG_vuV.js";import{I as N}from"./input-CVFdnnrk.js";import{L as C}from"./label-CKUxB6ed.js";import"./index-CjRLNKjQ.js";function q({onSuccess:a}){const[p,o]=j.useState(!1),{data:n,setData:u,errors:i,setError:f,reset:g,clearErrors:h}=b({name:""}),x=async t=>{var m,l;t.preventDefault(),h(),o(!0);try{const r=await y.post("/grades",n,{headers:{"X-CSRF-TOKEN":((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.getAttribute("content"))||"","Content-Type":"application/json",Accept:"application/json"}});s.success("Grade created successfully!"),g(),a==null||a()}catch(r){if(console.error("Error creating grade:",r),((l=r.response)==null?void 0:l.status)===422){const c=r.response.data.errors;Object.keys(c).forEach(d=>{f(d,c[d][0])}),s.error("Please check the form for errors.")}else s.error("Failed to create grade. Please try again later.")}finally{o(!1)}};return e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(C,{htmlFor:"name",children:"Name"}),e.jsx(N,{id:"name",value:n.name,onChange:t=>u("name",t.target.value),required:!0,placeholder:"Enter grade name"}),i.name&&e.jsx("p",{className:"text-destructive text-sm",children:i.name})]})}),e.jsx(v,{children:e.jsx(E,{type:"submit",disabled:p,children:"Create Grade"})})]})}export{q as default};
