import{r as u,m as w,j as e,a as E}from"./app-CBgNfxV6.js";import{B as b,t as i}from"./index-CxkpNBdp.js";import{f as y}from"./dialog-BcVaU9Qh.js";import{I as v}from"./input-3IsToTN2.js";import{L as F}from"./label-DNWKkJcz.js";import"./index-CBcOgFbC.js";import"./index-uXSY9LXb.js";function q({weight:t,onSuccess:s}){const[g,o]=u.useState(!1),{data:n,setData:l,errors:c,setError:f,clearErrors:x}=w({weight:t.weight});u.useEffect(()=>{l({weight:t.weight})},[t]);const j=async a=>{var m,d;a.preventDefault(),x(),o(!0);try{const r=await E.put(`/weights/${t.id}`,n,{headers:{"X-CSRF-TOKEN":((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.getAttribute("content"))||"","Content-Type":"application/json",Accept:"application/json"}});i.success("Weight updated successfully!"),s==null||s()}catch(r){if(console.error("Error updating weight:",r),((d=r.response)==null?void 0:d.status)===422){const p=r.response.data.errors;Object.keys(p).forEach(h=>{f(h,p[h][0])}),i.error("Please check the form for errors.")}else i.error("Failed to update weight. Please try again later.")}finally{o(!1)}};return e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(F,{htmlFor:"weight",children:"Weight"}),e.jsx(v,{id:"weight",value:n.weight,onChange:a=>l("weight",a.target.value),required:!0}),c.weight&&e.jsx("p",{className:"text-destructive text-sm",children:c.weight})]})}),e.jsx(y,{children:e.jsx(b,{type:"submit",disabled:g,children:"Update Weight"})})]})}export{q as default};
