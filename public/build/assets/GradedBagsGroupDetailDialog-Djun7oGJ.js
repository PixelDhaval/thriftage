import{j as e}from"./app-wUZwPzD3.js";import{B as p,t as x}from"./index-1uObsv-p.js";import{D as w}from"./data-table-nY-iRK8O.js";import{D as C,a as P,b as S,c as k,d as G}from"./dialog-COlZQqyY.js";import{p as M}from"./printGradedBarcodes-DF3k3OmZ.js";import{P as A}from"./printer-CeUT-y7k.js";import{f as h}from"./format-CiT9Q78D.js";import"./input-Sj9AGIQ-.js";import"./select-CLmYYzS9.js";import"./floating-ui.react-dom-lVSpvGBt.js";import"./floating-ui.dom-C5vApqfE.js";import"./index-CPPfu1Tl.js";import"./check-D6HYTAg4.js";import"./chevrons-up-down-P82T7p8A.js";import"./chevron-left-DnAd4m_x.js";import"./chevron-right-BkpnjaTb.js";import"./index-CdGjkSEY.js";function V({isOpen:g,onClose:t,item_id:f,grade_id:b,weight_id:j,created_date:i,itemName:o,gradeName:s,weightValue:n,totalQuantity:u}){const y=async a=>{var r,l,d,c,m;try{await M({bags:[a],partyName:"Graded Items",weightValue:((r=a.weight)==null?void 0:r.weight)||n,itemName:((l=a.item)==null?void 0:l.name)||o,itemSection:(c=(d=a.item)==null?void 0:d.section)==null?void 0:c.name,gradeName:((m=a.grade)==null?void 0:m.name)||s,isSingle:!0}),x.success(`Print initiated for graded barcode ${a.barcode}.`)}catch(N){console.error("Error printing graded barcode:",N),x.error("Failed to print graded barcode.")}},D=[{label:"Barcode",key:"barcode"},{label:"Created At",key:"created_at"}],v=[{id:"barcode",header:"Barcode",enableSorting:!0,cell:({row:a})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-mono text-sm font-medium",children:a.original.barcode})})},{id:"created_at",header:"Created At",enableSorting:!0,cell:({row:a})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:h(new Date(a.original.created_at),"dd/MM/yyyy HH:mm")})})},{id:"actions",header:"Actions",enableSorting:!1,cell:({row:a})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(p,{variant:"outline",size:"sm",onClick:r=>{r.stopPropagation(),y(a.original)},className:"h-8 px-2",title:"Print this graded barcode label",children:[e.jsx(A,{className:"mr-1 h-3 w-3"}),"Print"]})})}];return e.jsx(C,{open:g,onOpenChange:t,children:e.jsxs(P,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(S,{children:[e.jsx(k,{children:"Graded Bags Details"}),e.jsxs(G,{children:["Individual graded bags for ",o," - ",s," - ",n," kg",e.jsx("br",{}),"Created on: ",h(new Date(i),"dd/MM/yyyy")," | Total Quantity: ",u]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(w,{filterableColumns:D,route:"/api/graded-bags-pools-with-barcodes",columns:v,pageSize:20,params:{item_id:f,grade_id:b,weight_id:j,created_date:i}})}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(p,{variant:"outline",onClick:t,children:"Close"})})]})})}export{V as default};
