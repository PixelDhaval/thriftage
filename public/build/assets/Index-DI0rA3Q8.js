import{r as n,K as u,j as e,L as j}from"./app-B81GrNVN.js";import{C as t,a as g,b as f,c as i}from"./card-0QFjGi19.js";import{L as R}from"./label-abHCevWa.js";import{S as N,a as v,b as S,c as b,d as C}from"./select-BUwKcd6J.js";import{A as P}from"./app-layout-DxSffBsZ.js";import L from"./ProductionReport-D2lsaEMp.js";import w from"./GradingReport-B45jdJeF.js";import"./index-BmlTZoYn.js";import"./index-D9XNSD-3.js";import"./check-Cyb-QuqB.js";import"./dialog-_1aMC81m.js";import"./index-CWdVyxEp.js";import"./input-CgHuFDRy.js";import"./progress-Cv1I-sH5.js";import"./app-logo-icon-DYYlSjg_.js";import"./index-Carsqqyp.js";import"./chevrons-up-down-CG-NcDHP.js";import"./chevron-right-YmbVTZn4.js";import"./CreateGradedBagPoolForm-Ctbh8bFL.js";import"./async-select-DsxhFxiQ.js";import"./printGradedBarcodes-C9_5HlU_.js";import"./printer-CUg1IuD4.js";import"./data-table-g425Msrv.js";import"./chevron-left-BmLwpZCy.js";import"./file-spreadsheet-BhIVyyHD.js";import"./format-CiT9Q78D.js";const y=[{id:"production",name:"Production Report - Graded Bags Summary",permission:"report-production-read"},{id:"grading",name:"Grading Report - Section-wise",permission:"report-grading-read"}],G=[{title:"Reports",href:"/reports"}];function se(){var p;const[o,c]=n.useState(""),[a,m]=n.useState([]),s=((p=u().props.auth)==null?void 0:p.permissions)||[],d=s.includes("reports-read");n.useEffect(()=>{const r=y.filter(h=>s.includes(h.permission));m(r),r.length>0&&!o&&c(r[0].id)},[s]);const x=()=>{if(!d)return e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsx("p",{className:"text-center text-red-500",children:"You don't have permission to view reports."})})});if(a.length===0)return e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsx("p",{className:"text-center text-amber-600",children:"You don't have permission to access any specific reports."})})});switch(o){case"production":return s.includes("report-production-read")?e.jsx(L,{}):e.jsx(l,{report:"Production Report"});case"grading":return s.includes("report-grading-read")?e.jsx(w,{}):e.jsx(l,{report:"Grading Report"});default:return e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsx("p",{className:"text-center",children:"Please select a report to view."})})})}},l=({report:r})=>e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsxs("p",{className:"text-center text-red-500",children:["You don't have permission to view the ",r,"."]})})});return e.jsxs(P,{breadcrumbs:G,children:[e.jsx(j,{title:"Reports"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"View various reports to analyze your business data"})]}),d&&a.length>0&&e.jsxs(t,{className:"mb-4",children:[e.jsx(g,{children:e.jsx(f,{children:"Select Report"})}),e.jsx(i,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(R,{htmlFor:"report-select",children:"Report Type"}),e.jsxs(N,{value:o,onValueChange:c,children:[e.jsx(v,{children:e.jsx(S,{placeholder:"Select a report"})}),e.jsx(b,{children:a.map(r=>e.jsx(C,{value:r.id,children:r.name},r.id))})]})]})})})]}),x()]})]})}export{se as default};
