import{r as g,m as b,j as e,a as y}from"./app-DZIhMt8j.js";import{B as E,t as s}from"./index-CG21suBH.js";import{f as v}from"./dialog-DTFu0e2V.js";import{I as N}from"./input-D_EtKzRg.js";import{L as S}from"./label-gKVdXsPW.js";import"./index-CNZzqPiH.js";import"./index-BgEnKjmm.js";function B({onSuccess:r}){const[d,o]=g.useState(!1),{data:n,setData:u,errors:i,setError:f,reset:h,clearErrors:x}=b({name:""}),j=async a=>{var c,m;a.preventDefault(),x(),o(!0);try{const t=await y.post("/sections",n,{headers:{"X-CSRF-TOKEN":((c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"))||"","Content-Type":"application/json",Accept:"application/json"}});s.success("Section created successfully!"),h(),r==null||r()}catch(t){if(console.error("Error creating section:",t),((m=t.response)==null?void 0:m.status)===422){const l=t.response.data.errors;Object.keys(l).forEach(p=>{f(p,l[p][0])}),s.error("Please check the form for errors.")}else s.error("Failed to create section. Please try again later.")}finally{o(!1)}};return e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"name",children:"Name"}),e.jsx(N,{id:"name",value:n.name,onChange:a=>u("name",a.target.value),required:!0,placeholder:"Enter section name"}),i.name&&e.jsx("p",{className:"text-destructive text-sm",children:i.name})]})}),e.jsx(v,{children:e.jsx(E,{type:"submit",disabled:d,children:"Create Section"})})]})}export{B as default};
