import{r as n,K as u,j as e,L as j}from"./app-C6wr7xOM.js";import{C as t,a as g,b as f,c as i}from"./card-B3Bv1Rin.js";import{L as R}from"./label-C16cjRI5.js";import{S as N,a as v,b as S,c as b,d as C}from"./select-Kz6bl7S3.js";import{A as P}from"./app-layout-B-UflEba.js";import L from"./ProductionReport-9y0V7c9N.js";import w from"./GradingReport-HCLfQ60p.js";import"./index-ByhlrBJ7.js";import"./index-CrXPg-Qx.js";import"./check-Dpvvyly-.js";import"./dialog-Dune_8vQ.js";import"./index-CdYzvuDs.js";import"./input-3tYqWR7g.js";import"./progress-e_ADa-gu.js";import"./app-logo-icon-C2DRnRHY.js";import"./index-DpqhE_DT.js";import"./chevrons-up-down--zfVwbuH.js";import"./chevron-right-Co1gBxOU.js";import"./CreateGradedBagPoolForm-CFyF-jT6.js";import"./async-select-DfMe9Orv.js";import"./printGradedBarcodes-BSSWFjmM.js";import"./printer-D9gZcDgz.js";import"./data-table-BHfKkASQ.js";import"./chevron-left-BDlwHnm4.js";import"./file-spreadsheet-BFm_dzPb.js";import"./format-CiT9Q78D.js";const y=[{id:"production",name:"Production Report - Graded Bags Summary",permission:"report-production-read"},{id:"grading",name:"Grading Report - Section-wise",permission:"report-grading-read"}],G=[{title:"Reports",href:"/reports"}];function se(){var p;const[o,c]=n.useState(""),[a,m]=n.useState([]),s=((p=u().props.auth)==null?void 0:p.permissions)||[],d=s.includes("reports-read");n.useEffect(()=>{const r=y.filter(h=>s.includes(h.permission));m(r),r.length>0&&!o&&c(r[0].id)},[s]);const x=()=>{if(!d)return e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsx("p",{className:"text-center text-red-500",children:"You don't have permission to view reports."})})});if(a.length===0)return e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsx("p",{className:"text-center text-amber-600",children:"You don't have permission to access any specific reports."})})});switch(o){case"production":return s.includes("report-production-read")?e.jsx(L,{}):e.jsx(l,{report:"Production Report"});case"grading":return s.includes("report-grading-read")?e.jsx(w,{}):e.jsx(l,{report:"Grading Report"});default:return e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsx("p",{className:"text-center",children:"Please select a report to view."})})})}},l=({report:r})=>e.jsx(t,{children:e.jsx(i,{className:"p-6",children:e.jsxs("p",{className:"text-center text-red-500",children:["You don't have permission to view the ",r,"."]})})});return e.jsxs(P,{breadcrumbs:G,children:[e.jsx(j,{title:"Reports"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Reports"}),e.jsx("p",{className:"text-muted-foreground",children:"View various reports to analyze your business data"})]}),d&&a.length>0&&e.jsxs(t,{className:"mb-4",children:[e.jsx(g,{children:e.jsx(f,{children:"Select Report"})}),e.jsx(i,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(R,{htmlFor:"report-select",children:"Report Type"}),e.jsxs(N,{value:o,onValueChange:c,children:[e.jsx(v,{children:e.jsx(S,{placeholder:"Select a report"})}),e.jsx(b,{children:a.map(r=>e.jsx(C,{value:r.id,children:r.name},r.id))})]})]})})})]}),x()]})]})}export{se as default};
