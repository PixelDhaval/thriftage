import{K as Te,r as s,j as e,L as Ae,a as x}from"./app-DblnoUo9.js";import{D as j}from"./delete-confirmation-dialog-Dn4OM_pK.js";import{B as f,t as i}from"./index-CtjZe5nG.js";import{D}from"./data-table-BFh0cQM5.js";import{D as l,e as S,a as r,b as o,c,d}from"./dialog-SbzVe55u.js";import{T as ve,a as We,b as w,c as C}from"./tabs-Bh_7nu-6.js";import{A as Ge}from"./app-layout-DYw3HZaq.js";import Fe from"./CreateGradeForm-DsTs9WFl.js";import ke from"./CreateItemForm-p5AHC-OE.js";import $e from"./CreateSectionForm-D7j3R6_g.js";import Le from"./CreateWeightForm-D3d5-s0o.js";import _e from"./EditGradeForm-UhiG2tZ0.js";import Pe from"./EditItemForm-Do1Dzz8s.js";import Me from"./EditSectionForm-zY7fAtn3.js";import Ke from"./EditWeightForm-D45TIZW6.js";import{P as b}from"./plus-DOTxM3DS.js";import"./input-BgtC-TtO.js";import"./select-DV1MXlmg.js";import"./floating-ui.dom-CGtuGdiq.js";import"./index-B3JiuUVX.js";import"./check-mmelet4b.js";import"./chevrons-up-down-CoxMnMnk.js";import"./chevron-left-C7TwttLF.js";import"./chevron-right-DsF4hqHw.js";import"./index-DOebTmJq.js";import"./label-1EsIaW-j.js";import"./progress-BaReZoRY.js";import"./app-logo-icon-DW7AYQOI.js";import"./index-B0GQaYdd.js";import"./CreateGradedBagPoolForm-BQVisOTF.js";import"./async-select-0Ekb5-3M.js";import"./printGradedBarcodes-C3FhjNQE.js";import"./printer-CMoWhVfS.js";import"./textarea-D0vvtkrB.js";const Re=[{title:"Items Management",href:"/items"}];function yt({items:qe}){const y=Te().props.auth,a=(y==null?void 0:y.permissions)||[],[B,L]=s.useState(!1),[U,O]=s.useState(!1),[X,N]=s.useState(!1),[_,H]=s.useState(null),[h,I]=s.useState(null),[V,P]=s.useState(!1),[J,E]=s.useState(!1),[Q,T]=s.useState(!1),[M,Y]=s.useState(null),[u,A]=s.useState(null),[Z,K]=s.useState(!1),[ee,v]=s.useState(!1),[te,W]=s.useState(!1),[R,se]=s.useState(null),[g,G]=s.useState(null),[ae,q]=s.useState(!1),[ne,F]=s.useState(!1),[ie,k]=s.useState(!1),[z,le]=s.useState(null),[p,$]=s.useState(null),[re,oe]=s.useState("items"),ce=t=>{I(t),N(!0)},de=async()=>{var t,n;if(h)try{await x.delete(`/items/${h.id}`,{headers:{"X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",Accept:"application/json"}}),i.success(`Item ${h.name} deleted successfully.`),(n=window.refreshDataTable)==null||n.call(window)}catch(m){console.error("Error deleting item:",m),i.error("Failed to delete item. Please try again later.")}N(!1),I(null)},me=t=>{H(t),O(!0)},he=t=>{A(t),T(!0)},ue=async()=>{var t,n;if(u)try{await x.delete(`/sections/${u.id}`,{headers:{"X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",Accept:"application/json"}}),i.success(`Section ${u.name} deleted successfully.`),(n=window.refreshDataTable)==null||n.call(window)}catch(m){console.error("Error deleting section:",m),i.error("Failed to delete section. Please try again later.")}T(!1),A(null)},ge=t=>{Y(t),E(!0)},pe=t=>{G(t),W(!0)},xe=async()=>{var t,n;if(g)try{await x.delete(`/grades/${g.id}`,{headers:{"X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",Accept:"application/json"}}),i.success(`Grade ${g.name} deleted successfully.`),(n=window.refreshDataTable)==null||n.call(window)}catch(m){console.error("Error deleting grade:",m),i.error("Failed to delete grade. Please try again later.")}W(!1),G(null)},je=t=>{se(t),v(!0)},fe=t=>{$(t),k(!0)},De=async()=>{var t,n;if(p)try{await x.delete(`/weights/${p.id}`,{headers:{"X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",Accept:"application/json"}}),i.success(`Weight ${p.weight} deleted successfully.`),(n=window.refreshDataTable)==null||n.call(window)}catch(m){console.error("Error deleting weight:",m),i.error("Failed to delete weight. Please try again later.")}k(!1),$(null)},Se=t=>{le(t),F(!0)},we=[{label:"Name",key:"name"},{label:"Section",key:"section.name"},{label:"Description",key:"description"}],Ce=[{id:"name",header:"Name",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:t.original.name})})},{id:"section",header:"Section",enableSorting:!0,cell:({row:t})=>{var n;return e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:((n=t.original.section)==null?void 0:n.name)||"-"})})}},{id:"description",header:"Description",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:t.original.description||"-"})})},{id:"created_at",header:"Created At",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:new Date(t.original.created_at).toLocaleDateString()})})}],be=[{label:"Name",key:"name"}],ye=[{id:"name",header:"Name",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:t.original.name})})},{id:"created_at",header:"Created At",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:new Date(t.original.created_at).toLocaleDateString()})})}],Oe=[{label:"Name",key:"name"}],Ne=[{id:"name",header:"Name",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:t.original.name})})},{id:"created_at",header:"Created At",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:new Date(t.original.created_at).toLocaleDateString()})})}],Ie=[{label:"Weight",key:"weight"}],Ee=[{id:"weight",header:"Weight",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:t.original.weight})})},{id:"created_at",header:"Created At",enableSorting:!0,cell:({row:t})=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:new Date(t.original.created_at).toLocaleDateString()})})}];return e.jsxs(Ge,{breadcrumbs:Re,children:[e.jsx(Ae,{title:"Items Management"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs(ve,{value:re,onValueChange:oe,className:"w-full",children:[e.jsxs(We,{className:"grid grid-flow-col",children:[a.includes("items-read")&&e.jsx(w,{value:"items",children:"Items"}),a.includes("sections-read")&&e.jsx(w,{value:"sections",children:"Sections"}),a.includes("grades-read")&&e.jsx(w,{value:"grades",children:"Grades"}),a.includes("weights-read")&&e.jsx(w,{value:"weights",children:"Bag Weights"})]}),e.jsxs(C,{value:"items",children:[e.jsxs("div",{className:"mb-4 py-4 flex justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Items Management"}),a.includes("items-update")&&e.jsxs(l,{open:B,onOpenChange:L,children:[e.jsx(S,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Item"]})}),e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Create New Item"}),e.jsx(d,{children:"Add a new item to the system."})]}),e.jsx(ke,{onSuccess:()=>{var t;L(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})]})]}),e.jsx(D,{filterableColumns:we,route:"/api/items",columns:Ce,pageSize:20,...a.includes("items-update")&&{onEdit:me},...a.includes("items-update")&&{onDelete:ce},params:{}}),e.jsx(l,{open:U,onOpenChange:O,children:e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Edit Item"}),e.jsx(d,{children:"Update item details."})]}),_&&e.jsx(Pe,{item:_,onSuccess:()=>{var t;O(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})}),e.jsx(j,{isOpen:X,onClose:()=>{N(!1),I(null)},onConfirm:de,title:"Delete Item",description:`Are you sure you want to delete ${h==null?void 0:h.name}? This action cannot be undone.`})]}),e.jsxs(C,{value:"sections",children:[e.jsxs("div",{className:"mb-4 py-4 flex justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Section Management"}),a.includes("sections-update")&&e.jsxs(l,{open:V,onOpenChange:P,children:[e.jsx(S,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Section"]})}),e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Create New Section"}),e.jsx(d,{children:"Add a new section to the system."})]}),e.jsx($e,{onSuccess:()=>{var t;P(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})]})]}),e.jsx(D,{filterableColumns:be,route:"/api/sections",columns:ye,pageSize:20,...a.includes("sections-update")&&{onEdit:ge},...a.includes("sections-update")&&{onDelete:he},params:{}}),e.jsx(l,{open:J,onOpenChange:E,children:e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Edit Section"}),e.jsx(d,{children:"Update section details."})]}),M&&e.jsx(Me,{section:M,onSuccess:()=>{var t;E(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})}),e.jsx(j,{isOpen:Q,onClose:()=>{T(!1),A(null)},onConfirm:ue,title:"Delete Section",description:`Are you sure you want to delete ${u==null?void 0:u.name}? This action cannot be undone.`})]}),e.jsxs(C,{value:"grades",children:[e.jsxs("div",{className:"mb-4 py-4 flex justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Grade Management"}),a.includes("grades-update")&&e.jsxs(l,{open:Z,onOpenChange:K,children:[e.jsx(S,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Grade"]})}),e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Create New Grade"}),e.jsx(d,{children:"Add a new grade to the system."})]}),e.jsx(Fe,{onSuccess:()=>{var t;K(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})]})]}),e.jsx(D,{filterableColumns:Oe,route:"/api/grades",columns:Ne,pageSize:20,...a.includes("grades-update")&&{onEdit:je},...a.includes("grades-update")&&{onDelete:pe},params:{}}),e.jsx(l,{open:ee,onOpenChange:v,children:e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Edit Grade"}),e.jsx(d,{children:"Update grade details."})]}),R&&e.jsx(_e,{grade:R,onSuccess:()=>{var t;v(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})}),e.jsx(j,{isOpen:te,onClose:()=>{W(!1),G(null)},onConfirm:xe,title:"Delete Grade",description:`Are you sure you want to delete ${g==null?void 0:g.name}? This action cannot be undone.`})]}),e.jsxs(C,{value:"weights",children:[e.jsxs("div",{className:"mb-4 py-4 flex justify-between",children:[e.jsx("h1",{className:"text-2xl  font-semibold",children:"Bag Weight Management"}),a.includes("weights-update")&&e.jsxs(l,{open:ae,onOpenChange:q,children:[e.jsx(S,{asChild:!0,children:e.jsxs(f,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Weight"]})}),e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Create New Weight"}),e.jsx(d,{children:"Add a new weight to the system."})]}),e.jsx(Le,{onSuccess:()=>{var t;q(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})]})]}),e.jsx(D,{filterableColumns:Ie,route:"/api/weights",columns:Ee,pageSize:20,...a.includes("weights-update")&&{onEdit:Se},...a.includes("weights-update")&&{onDelete:fe},params:{}}),e.jsx(l,{open:ne,onOpenChange:F,children:e.jsxs(r,{children:[e.jsxs(o,{children:[e.jsx(c,{children:"Edit Weight"}),e.jsx(d,{children:"Update weight details."})]}),z&&e.jsx(Ke,{weight:z,onSuccess:()=>{var t;F(!1),(t=window.refreshDataTable)==null||t.call(window)}})]})}),e.jsx(j,{isOpen:ie,onClose:()=>{k(!1),$(null)},onConfirm:De,title:"Delete Weight",description:`Are you sure you want to delete weight ${p==null?void 0:p.weight}? This action cannot be undone.`})]})]})})]})}export{yt as default};
