import{r as f,m as E,j as e,a as b}from"./app-DxEDvTBz.js";import{B as y,t as o}from"./index-DWnafFNg.js";import{f as v}from"./dialog-C5Fs-K6Q.js";import{I as N}from"./input-CtyuglOk.js";import{L as S}from"./label-CuIrDb8X.js";import"./index-Cv0lmLWN.js";import"./index-D7zJgkEx.js";function B({section:t,onSuccess:a}){const[h,n]=f.useState(!1),{data:i,setData:m,errors:c,setError:x,clearErrors:j}=E({name:t.name});f.useEffect(()=>{m({name:t.name})},[t]);const g=async s=>{var l,d;s.preventDefault(),j(),n(!0);try{const r=await b.put(`/sections/${t.id}`,i,{headers:{"X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","Content-Type":"application/json",Accept:"application/json"}});o.success("Section updated successfully!"),a==null||a()}catch(r){if(console.error("Error updating section:",r),((d=r.response)==null?void 0:d.status)===422){const p=r.response.data.errors;Object.keys(p).forEach(u=>{x(u,p[u][0])}),o.error("Please check the form for errors.")}else o.error("Failed to update section. Please try again later.")}finally{n(!1)}};return e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"name",children:"Name"}),e.jsx(N,{id:"name",value:i.name,onChange:s=>m("name",s.target.value),required:!0}),c.name&&e.jsx("p",{className:"text-destructive text-sm",children:c.name})]})}),e.jsx(v,{children:e.jsx(y,{type:"submit",disabled:h,children:"Update Section"})})]})}export{B as default};
