import{r as j,m as w,j as e,a as b}from"./app-CtuGzTD0.js";import{B as y,t as a}from"./index-DTz_dOKf.js";import{f as E}from"./dialog-se0ddr7h.js";import{I as v}from"./input-BpOFhh0X.js";import{L as C}from"./label-BSxjy5Yj.js";import"./index-DIEkADUd.js";function k({onSuccess:r}){const[g,i]=j.useState(!1),{data:o,setData:p,errors:n,setError:d,reset:u,clearErrors:f}=w({weight:""}),x=async s=>{var l,c;s.preventDefault(),f(),i(!0);try{const t=await b.post("/weights",o,{headers:{"X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||"","Content-Type":"application/json",Accept:"application/json"}});a.success("Weight created successfully!"),u(),r==null||r()}catch(t){if(console.error("Error creating weight:",t),((c=t.response)==null?void 0:c.status)===422){const h=t.response.data.errors;Object.keys(h).forEach(m=>{d(m,h[m][0])}),a.error("Please check the form for errors.")}else a.error("Failed to create weight. Please try again later.")}finally{i(!1)}};return e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(C,{htmlFor:"weight",children:"Weight"}),e.jsx(v,{id:"weight",value:o.weight,onChange:s=>p("weight",s.target.value),required:!0,placeholder:"Enter weight value"}),n.weight&&e.jsx("p",{className:"text-destructive text-sm",children:n.weight})]})}),e.jsx(E,{children:e.jsx(y,{type:"submit",disabled:g,children:"Create Weight"})})]})}export{k as default};
